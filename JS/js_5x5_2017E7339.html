<html>
<head>
    <title>Puzzle44</title>
    <script type="text/javascript">
        var puz = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11, 12, 13, 14, 15], [16, 17, 18, 19, 20], [21, 22, 23, 24, ""]];
        var x, y, i, j, s1, s2, s3, s4, tmp, cnt = 0;
        var c1, c2, c3, c4;

        function change(c1, c2, c3, c4) {
            tmp = puz[c1][c2];
            puz[c1][c2] = puz[c3][c4];
            puz[c3][c4] = tmp;
            in_puz();
        }

        function sort() {
            for (i = 0; i < 30; i++) {
                s1 = Math.floor(Math.random() * 5);
                s2 = Math.floor(Math.random() * 5);
                s3 = Math.floor(Math.random() * 5);
                s4 = Math.floor(Math.random() * 5);
                tmp = puz[s1][s2];
                puz[s1][s2] = puz[s3][s4];
                puz[s3][s4] = tmp;
            }
            in_puz();
        }

        function move(x, y) {
            if (x > 0 && puz[x - 1][y] == "") change(x, y, x - 1, y);
            if (x < 4 && puz[x + 1][y] == "") change(x, y, x + 1, y);
            if (y > 0 && puz[x][y - 1] == "") change(x, y, x, y - 1);
            if (y < 4 && puz[x][y + 1] == "") change(x, y, x, y + 1);

            test();
        }

        function in_puz() {
            p1.innerText = puz[0][0];
            p2.innerText = puz[0][1];
            p3.innerText = puz[0][2];
            p4.innerText = puz[0][3];
            p5.innerText = puz[0][4];
            p6.innerText = puz[1][0];
            p7.innerText = puz[1][1];
            p8.innerText = puz[1][2];
            p9.innerText = puz[1][3];
            p10.innerText = puz[1][4];
            p11.innerText = puz[2][0];
            p12.innerText = puz[2][1];
            p13.innerText = puz[2][2];
            p14.innerText = puz[2][3];
            p15.innerText = puz[2][4];
            p16.innerText = puz[3][0];
            p17.innerText = puz[3][1];
            p18.innerText = puz[3][2];
            p19.innerText = puz[3][3];
            p20.innerText = puz[3][4];
            p21.innerText = puz[4][0];
            p22.innerText = puz[4][1];
            p23.innerText = puz[4][2];
            p24.innerText = puz[4][3];
            p25.innerText = puz[4][4];
            

            cntx.innerText = cnt++;
        }

        function test() {
            var k = 1, test_num = 1;
            for (i = 0; i <= 4; i++) {
                for (j = 0; j <= 4; j++) {
                    if (puz[i][j] == k++) test_num++;
                }
            }
            if (test_num == 25)
                if (confirm("축하합니다! 퍼즐을 완성시켰습니다.\n다시 하시겠습니까?")) sort();
        }
    </script>
</head>

<body>
    <p>NewBongMan's Puzzle Game</p>
    <input type="button" value="새게임" onclick="sort()" />
    <p id="cntx">0</p>
    <table border=1 cellspacing=1 cellpadding=10 bgcolor=666666>
        <tr height=40 bgcolor=white align=center>
            <td width=30 onclick="move(0, 0)"> <p id="p1">1</p> </td>
            <td width=30 onclick="move(0, 1)"> <p id="p2">2</p> </td>
            <td width=30 onclick="move(0, 2)"> <p id="p3">3</p> </td>
            <td width=30 onclick="move(0, 3)"> <p id="p4">4</p> </td>
            <td width=30 onclick="move(0, 4)"> <p id="p5">5</p> </td>
        </tr>
        <tr height=40 bgcolor=white align=center>
            <td width=30 onclick="move(1, 0)"> <p id="p6">6</p> </td>
            <td width=30 onclick="move(1, 1)"> <p id="p7">7</p> </td>
            <td width=30 onclick="move(1, 2)"> <p id="p8">8</p> </td>
            <td width=30 onclick="move(1, 3)"> <p id="p9">9</p> </td>
            <td width=30 onclick="move(1, 4)"> <p id="p10">10</p> </td>
        </tr>
        <tr height=40 bgcolor=white align=center>
            <td width=30 onclick="move(2, 0)"> <p id="p11">11</p> </td>
            <td width=30 onclick="move(2, 1)"> <p id="p12">12</p> </td>
            <td width=30 onclick="move(2, 2)"> <p id="p13">13</p> </td>
            <td width=30 onclick="move(2, 3)"> <p id="p14">14</p> </td>
            <td width=30 onclick="move(2, 4)"> <p id="p15">15</p> </td>
        </tr>
        <tr height=40 bgcolor=white align=center>
            <td width=30 onclick="move(3, 0)"> <p id="p16">16</p> </td>
            <td width=30 onclick="move(3, 1)"> <p id="p17">17</p> </td>
            <td width=30 onclick="move(3, 2)"> <p id="p18">18</p> </td>
            <td width=30 onclick="move(3, 3)"> <p id="p19">19</p> </td>
            <td width=30 onclick="move(3, 4)"> <p id="p20">20</p> </td>
        </tr>
        <tr height=40 bgcolor=white align=center>
            <td width=30 onclick="move(4, 0)"> <p id="p21">21</p> </td>
            <td width=30 onclick="move(4, 1)"> <p id="p22">22</p> </td>
            <td width=30 onclick="move(4, 2)"> <p id="p23">23</p> </td>
            <td width=30 onclick="move(4, 3)"> <p id="p24">24</p> </td>
            <td width=30 onclick="move(4, 4)"> <p id="p25">25</p> </td>
        </tr>
    </table>
</body>
</html>
